##### 1.闭包有哪些使用场景？

闭包可以用于以下场景（摘自 chatgpt）：

1. 将函数作为另一个函数的参数传递，例如使用 sort 函数对数组进行排序时，可以自定义排序规则。
2. 保存函数的状态，例如计数器函数，每次调用函数都能够自增并返回正确的计数。这个计数器变量会在函数中被创建，并且由于闭包的存在，它会一直被保存在内存中。
3. 模拟私有变量，将函数返回一个内部函数，以保护内部状态不被外部直接访问或者修改。
4. 缓存中间结果，例如在递归函数中，需要反复计算一些中间结果，可以将这些结果缓存在函数内部的一个变量中，减少重复计算。
5. 使用闭包可以实现类似于面向对象的功能，例如在 JavaScript 中，可以使用闭包来实现类和继承。

场景一举例：有一个数组，其中包含了多个对象，每个对象都有一个名字属性，我们要按照名字属性对这些对象进行排序。可以使用 sort 函数，并传递一个自定义的比较函数作为参数，比较函数可以访问对象的名字属性，从而进行对象之间的比较。具体的代码如下所示：

```js
var persons = [
  { name: "Alice", age: 28 },
  { name: "Bob", age: 24 },
  { name: "Charlie", age: 32 },
];

persons.sort(function (a, b) {
  if (a.name < b.name) {
    return -1;
  }
  if (a.name > b.name) {
    return 1;
  }
  return 0;
});
```

这里的比较函数就是一个闭包，它可以访问外部函数的变量 persons，以及对象中的 name 属性。通过这个闭包，我们可以将 sort 函数用于不同的对象数组，只需要修改比较函数即可。
